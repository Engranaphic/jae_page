import{s as E,e as d,k as j,n as w,r as S,o,c as l,a as e,F as p,l as v,x as y,A as x,B,b as D,t as L,p as P,i as z,C as A,D as F}from"./index.66645861.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";const i=r=>(P("data-v-27032e64"),r=r(),z(),r),R={id:"clients"},V=i(()=>e("div",{class:"main-title"},"Enmarcaciones",-1)),$={class:"container grid"},q={class:"col-12 lg:col-4"},M={class:"login-form"},T=i(()=>e("div",{class:"title flex"}," Subir una Imagen ",-1)),U=i(()=>e("div",{class:"form-text"}," Las imagenes subidas apareceran en la seccion de Enmarcaciones ",-1)),G={class:"field"},H=i(()=>e("label",{for:"name"},"Imagen (se recomienda subir solo logos)",-1)),J={class:"col-12 lg:col-8"},K={class:"w-full"},O=i(()=>e("thead",null,[e("tr",{class:"grid"},[e("th",{class:"col text-center flex justify-content-center align-items-center",style:{color:"#101615cc","font-size":"130%"}},"Imagen"),e("th",{class:"col text-center flex justify-content-center align-items-center",style:{color:"#101615cc","font-size":"130%"}},"Acciones")])],-1)),Q={class:"col text-center flex justify-content-center align-items-center"},W=["src","alt"],X={class:"col text-center flex justify-content-center align-items-center"},Y={class:"flex flex-wrap justify-content-center"},Z=["onClick"],ee={__name:"Enmarcaciones",emits:["toasting"],setup(r,{emit:m}){const u=E(y,"enmarcacion"),c=d(),g=d([]),f=d(0),h=d(1),b=a=>{c.value=a.target.files[0]};j(()=>{w(u,a=>{let n=[],t=[];a.forEach(s=>{let _={id:s.id,name:s.data().name,url:s.data().url,created:s.data().created};n.length>=5&&(t.push(n),n=[]),n.push(_)}),n.length!=0&&(t.push(n),n=[]),h.value=t.length,g.value=t})});const k=()=>{let a=x.child("enmarcaciones/"+c.value.name),n={contentType:"img/jpeg"};a.put(c.value,n).then(t=>{t.task.snapshot.ref.getDownloadURL().then(s=>{B(u,{name:"enmarcacion/"+c.value.name,url:s,created:new Date}),c.value=""}).catch(s=>{})}).catch(t=>{m("toasting","Error "+t.code+" al crear cliente: "+t.message,"error")})},I=a=>{x.child(a.name).delete().then(t=>{A(F(y,"enmarcacion",a.id))}).catch(t=>{m("toasting","Error "+t.code+" al eliminar cliente: "+t.message,"error")})},C=a=>{f.value=a-1};return(a,n)=>{const t=S("font-awesome-icon");return o(),l("div",R,[V,e("div",$,[e("div",q,[e("div",M,[T,U,e("div",G,[H,e("input",{onChange:b,type:"file",required:"true",accept:"image/*"},null,32)]),e("div",{class:"flex justify-content-end"},[e("div",{class:"boton-mail select-none cursor-pointer",onClick:k},"Subir")])])]),e("div",J,[e("table",K,[O,e("tbody",null,[(o(!0),l(p,null,v(g.value[f.value],s=>(o(),l("tr",{key:s.id,class:"grid"},[e("td",Q,[e("img",{src:s.url,alt:s.name,class:"galery-image"},null,8,W)]),e("td",X,[e("div",{class:"boton-action trash select-none cursor-pointer flex justify-content-center align-items-center",onClick:n[0]||(n[0]=_=>I(a.serv))},[D(t,{icon:"fa-solid fa-trash-can"})])])]))),128))]),e("tfoot",null,[e("div",Y,[(o(!0),l(p,null,v(h.value,s=>(o(),l("div",{class:"indices-tabla select-none cursor-pointer",onClick:_=>C(s),key:s},L(s),9,Z))),128))])])])])])])}}},ne=N(ee,[["__scopeId","data-v-27032e64"]]);export{ne as default};
