import{s as j,c as C,u as B,o as w,r as S}from"./@firebase.065648e6.js";import{d as p,s as h}from"./index.2025ce1d.js";import{_ as D}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as d,o as E,b as L,e as c,j as i,k as e,F as v,C as y,l as P,x as A,z as F,A as N}from"./@vue.9e671e56.js";import"./tslib.9ddfe73c.js";import"./idb.94e4f64e.js";import"./vue-router.fd8ca502.js";import"./firebase.127c8ce3.js";/* empty css                  */import"./@fortawesome.32fda8e3.js";const l=r=>(F("data-v-f72c44e8"),r=r(),N(),r),R={id:"clients"},V=l(()=>e("div",{class:"main-title"},"Bautizos",-1)),$={class:"container grid"},q={class:"col-12 lg:col-4"},M={class:"login-form"},T=l(()=>e("div",{class:"title flex"}," Subir una Imagen ",-1)),U=l(()=>e("div",{class:"form-text"}," Las imagenes subidas apareceran en la seccion de Bautizos ",-1)),G={class:"field"},H=l(()=>e("label",{for:"name"},"Imagen (se recomienda subir solo logos)",-1)),J={class:"col-12 lg:col-8"},K={class:"w-full"},O=l(()=>e("thead",null,[e("tr",{class:"grid"},[e("th",{class:"col text-center flex justify-content-center align-items-center",style:{color:"#101615cc","font-size":"130%"}},"Imagenes"),e("th",{class:"col text-center flex justify-content-center align-items-center",style:{color:"#101615cc","font-size":"130%"}},"Acciones")])],-1)),Q={class:"col text-center flex justify-content-center align-items-center"},W=["src","alt"],X={class:"col text-center flex justify-content-center align-items-center"},Y={class:"flex flex-wrap justify-content-center"},Z=["onClick"],ee={__name:"Bautizos",emits:["toasting"],setup(r,{emit:b}){const _=j(p,"bautizo"),n=d(),m=d([]),f=d(0),g=d(1),x=o=>{n.value=o.target.files[0]};E(()=>{C(_,o=>{let s=[],a=[];o.forEach(t=>{let u={id:t.id,name:t.data().name,url:t.data().url,created:t.data().created};s.length>=5&&(a.push(s),s=[]),s.push(u)}),s.length!=0&&(a.push(s),s=[]),g.value=a.length,m.value=a})});const z=()=>{let o=h.child("bautizos/"+n.value.name),s={contentType:"img/jpeg"};o.put(n.value,s).then(a=>{a.task.snapshot.ref.getDownloadURL().then(t=>{B(_,{name:"bautizo/"+n.value.name,url:t,created:new Date}),n.value=""}).catch(t=>{})}).catch(a=>{})},k=o=>{h.child(o.name).delete().then(a=>{w(S(p,"bautizo",o.id))}).catch(a=>{b("toasting","Error "+a.code+" al eliminar cliente: "+a.message,"error")})},I=o=>{f.value=o-1};return(o,s)=>{const a=L("font-awesome-icon");return c(),i("div",R,[V,e("div",$,[e("div",q,[e("div",M,[T,U,e("div",G,[H,e("input",{onChange:x,type:"file",required:"true",accept:"image/*"},null,32)]),e("div",{class:"flex justify-content-end"},[e("div",{class:"boton-mail select-none cursor-pointer",onClick:z},"Subir")])])]),e("div",J,[e("table",K,[O,e("tbody",null,[(c(!0),i(v,null,y(m.value[f.value],t=>(c(),i("tr",{key:t.id,class:"grid py-3"},[e("td",Q,[e("img",{src:t.url,alt:t.name,class:"galery-image"},null,8,W)]),e("td",X,[e("div",{class:"boton-action trash select-none cursor-pointer flex justify-content-center align-items-center",onClick:s[0]||(s[0]=u=>k(o.serv))},[P(a,{icon:"fa-solid fa-trash-can"})])])]))),128))]),e("tfoot",null,[e("div",Y,[(c(!0),i(v,null,y(g.value,t=>(c(),i("div",{class:"indices-tabla select-none cursor-pointer",onClick:u=>I(t),key:t},A(t),9,Z))),128))])])])])])])}}},ue=D(ee,[["__scopeId","data-v-f72c44e8"]]);export{ue as default};
